<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Advanced Recipe Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <nav>
        <div class="nav-wrapper">
          <a href="#" class="brand-logo">Logo</a>
          <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li><a href="#">Home</a></li>
            <li><a href="#">World Recipes</a></li>
            <li><a href="#">Advanced</a></li>
            <li><a href="#">Saved</a></li>
          </ul>
        </div>
      </nav>

      <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s6">
              <input id="icon_prefix" type="text" class="validate">
              <label for="icon_prefix">Recipes</label>
              
            </div>
            <div class="input-field col s6">
                <a class="waves-effect waves-light btn">button</a>
            </div>
          </div>
        </form>
      </div>

      <div class="note">Click to uncollapse</div>
      <ul class="collapsible collapsibleStyle">
          
      </ul>
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
      <script>
        // Or with jQuery

        $(document).ready(function(){
        $('.collapsible').collapsible();
        });

        
        //foodSearchQuery
        var foodImage = ""
        var foodTitle = ""
        var ingredients = []
        var num = "2"
        var food = "chicken"
        var applicationID = "6c4c5067"
        var appKey = "56dd4a4b1dc04c1107300036e876fbf8"
        var queryURL = "https://api.edamam.com/search?q=" + food + "&app_id=" + applicationID + "&app_key=" + appKey + "&to=" + num

        $.ajax({
        url: queryURL,
        method: "GET"
        }).then(function(response) {

            var numberofRecipes = 1

            for (var i = 0; i <= numberofRecipes; i++) {
                foodTitle = response.hits[i].recipe.label
                foodImage = response.hits[i].recipe.image
                ingredients = response.hits[i].recipe.ingredientLines

                //collapsable layout
                var list = $("<li>")
                //div for Title
                var divTitle = $("<div>")
                //div for food information
                var divInfo = $("<div>")

                $(".collapsible").append(list)

                //give common and unique id's to each div
                divTitle.attr({ class:"collapsible-header material-icons", id:"foodHeader" + i })
                divInfo.attr({ class:"collapsible-body", id:"foodBody" + i})

                list.append(divTitle)
                list.append(divInfo)
                
                var foodHeader = divTitle.attr("id")
                var foodBody = divInfo.attr("id")

                $("#"+foodHeader).text(foodTitle)

                var image = $("<img>")
                image.attr("src", foodImage)
                $("#" + foodBody).append(image)

                var text = $("<p>")
                text.text(ingredients)
                $("#" + foodBody).append(text)

            }
            
            //console.log(foodTitle)
            //console.log(response.Runtime);
        });
        
          
      </script>
</body>
</html>